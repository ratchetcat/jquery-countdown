<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8"/>
  <title>jQuery Countdown Plugin</title>
</head>
<body>
<h1>jQuery-Countdown Example</h1>
<p>This page serves as an example of how jquery-countdown may be used.</p>
<p>The dynamic target datetimes below are generated using the <a href="http://momentjs.com/">moment.js</a> library.</p>

<script type="text/javascript" charset="utf-8">
  document.getElementsByTagName('body')[0].className += ' js-enabled';
</script>
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/moment.js/2.0.0/moment.min.js"></script>
<script src="js/jquery.countdown.js"></script>

<script>
    (function($) {
        dates = [];
        dates.push( moment().add('minutes', 1).format("YYYY-MM-DDTHH:mm:ss") );
        dates.push( moment().add('minutes', 1).format("YYYY-MM-DD HH:mm:ss") );
        dates.push( moment().add('hours', 1).format("YYYY-MM-DD HH:mm:ss") );
        dates.push( moment().add('days', 1).add('hours', 10).format("YYYY-MM-DD HH:mm:ss") );

        for( var i = 0; i < dates.length; i++ ) {
            $("body").append( "<p class='target-date'>" + dates[i] + "</p>");
        }

        // apply jquery-countdown
        $('p.target-date').countdown({
            onEnd: function( el, remainingMilliseconds ) { el.css("background-color", "#f66"); },
            onUpdate: function( el, remainingMilliseconds ) {
                el.css("background-color", "#ffc");
                setTimeout(function() { el.css("background-color", "transparent"); }, 1000);
            },
            interval:2000
        });
    })(jQuery);
</script>

</body>
</html>
